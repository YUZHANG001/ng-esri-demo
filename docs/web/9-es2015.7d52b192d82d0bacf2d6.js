(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{m5bE:function(e,t,i){"use strict";i.r(t),i.d(t,"TimeSpatialModule",(function(){return u}));var l=i("2kYt"),r=i("sEIs"),s=i("D57K"),o=i("69HR"),n=i("EM62"),c=i("1i8C");const a=[{path:"",component:(()=>{class e{constructor(e){this.map=e}ngOnInit(){this.map.sceneView.subscribe(e=>Object(s.a)(this,void 0,void 0,(function*(){yield this.initLegend(e),yield this.initLayer(e)})))}ngOnDestroy(){this.map.sceneView.subscribe(e=>{this.layer&&(e.map.remove(this.layer),e.ui.remove(this.legend))})}initLegend(e){return Object(s.a)(this,void 0,void 0,(function*(){this.legend=yield o.a({view:e},{view:e,expanded:!0}),e.ui.add(this.legend,"bottom-right")}))}initLayer(e){return Object(s.a)(this,void 0,void 0,(function*(){this.layer=yield o.b({id:"water-section-his",title:"\u6c34\u8d28\u65ad\u9762",url:"http://agsdb.gdepb.gov.cn/eco-env-gis/rest/services/wgs84_gd_env_water_section_geo_his_data/MapServer/0",definitionExpression:"business_id = '69e0118b-7df7-4385-8768-390c53d32ead' and stat_time = (select max(stat_time) from water.water_section_geo_his_data)",outFields:["objectid","section_code","section_name","area_id","area_name","longitude","latitude","stat_time","business_id","is_ok","wq_level_id","wq_level_name","wq_index"]}),yield this.layer.load(),e.map.add(this.layer)}))}setLevelRenderer(){this.layer&&(this.layer.renderer={type:"unique-value",field:"wq_level_id",defaultSymbol:{type:"simple-marker",style:"circle",color:"#CCCCCC",size:4,outline:{color:"#000000",width:1}},uniqueValueInfos:[{value:1,symbol:{type:"simple-marker",style:"circle",color:"#016c59",size:12,outline:{color:"#000000",width:1}}},{value:2,symbol:{type:"simple-marker",style:"circle",color:"#1c9099",size:12,outline:{color:"#000000",width:1}}},{value:3,symbol:{type:"simple-marker",style:"circle",color:"#67a9cf",size:12,outline:{color:"#000000",width:1}}},{value:4,symbol:{type:"simple-marker",style:"circle",color:"#a6bddb",size:12,outline:{color:"#000000",width:1}}},{value:5,symbol:{type:"simple-marker",style:"circle",color:"#d0d1e6",size:12,outline:{color:"#000000",width:1}}},{value:6,symbol:{type:"simple-marker",style:"circle",color:"#f6eff7",size:12,outline:{color:"#000000",width:1}}}]})}setIsOkRenderer(){this.layer&&(this.layer.renderer={type:"unique-value",field:"is_ok",defaultSymbol:{type:"simple-marker",style:"circle",color:"#CCCCCC",size:4,outline:{color:"#000000",width:1}},uniqueValueInfos:[{value:!0,symbol:{type:"simple-marker",style:"circle",color:"#00ff00",size:12,outline:{color:"#000000",width:1}}},{value:!1,symbol:{type:"simple-marker",style:"circle",color:"#ff0000",size:12,outline:{color:"#000000",width:1}}}]})}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(c.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["app-time-spatial-home"]],decls:4,vars:0,consts:[["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(n.Vb(0,"button",0),n.hc("click",(function(){return t.setLevelRenderer()})),n.Cc(1," \u6c34\u8d28\u7ea7\u522b\n"),n.Ub(),n.Vb(2,"button",0),n.hc("click",(function(){return t.setIsOkRenderer()})),n.Cc(3," \u662f\u5426\u8fbe\u6807\n"),n.Ub())},styles:[""]}),e})()}];let d=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},imports:[[r.c.forChild(a)],r.c]}),e})(),u=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},imports:[[l.b,d]]}),e})()}}]);