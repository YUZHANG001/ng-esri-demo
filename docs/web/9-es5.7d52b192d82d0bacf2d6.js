function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{m5bE:function(e,t,i){"use strict";i.r(t),i.d(t,"TimeSpatialModule",(function(){return f}));var r,n,o,s=i("2kYt"),l=i("sEIs"),a=i("D57K"),c=i("69HR"),u=i("EM62"),d=i("1i8C"),m=[{path:"",component:(r=function(){function e(t){_classCallCheck(this,e),this.map=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.map.sceneView.subscribe((function(t){return Object(a.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initLegend(t);case 2:return e.next=4,this.initLayer(t);case 4:case"end":return e.stop()}}),e,this)})))}))}},{key:"ngOnDestroy",value:function(){var e=this;this.map.sceneView.subscribe((function(t){e.layer&&(t.map.remove(e.layer),t.ui.remove(e.legend))}))}},{key:"initLegend",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a({view:e},{view:e,expanded:!0});case 2:this.legend=t.sent,e.ui.add(this.legend,"bottom-right");case 4:case"end":return t.stop()}}),t,this)})))}},{key:"initLayer",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b({id:"water-section-his",title:"\u6c34\u8d28\u65ad\u9762",url:"http://agsdb.gdepb.gov.cn/eco-env-gis/rest/services/wgs84_gd_env_water_section_geo_his_data/MapServer/0",definitionExpression:"business_id = '69e0118b-7df7-4385-8768-390c53d32ead' and stat_time = (select max(stat_time) from water.water_section_geo_his_data)",outFields:["objectid","section_code","section_name","area_id","area_name","longitude","latitude","stat_time","business_id","is_ok","wq_level_id","wq_level_name","wq_index"]});case 2:return this.layer=t.sent,t.next=5,this.layer.load();case 5:e.map.add(this.layer);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"setLevelRenderer",value:function(){this.layer&&(this.layer.renderer={type:"unique-value",field:"wq_level_id",defaultSymbol:{type:"simple-marker",style:"circle",color:"#CCCCCC",size:4,outline:{color:"#000000",width:1}},uniqueValueInfos:[{value:1,symbol:{type:"simple-marker",style:"circle",color:"#016c59",size:12,outline:{color:"#000000",width:1}}},{value:2,symbol:{type:"simple-marker",style:"circle",color:"#1c9099",size:12,outline:{color:"#000000",width:1}}},{value:3,symbol:{type:"simple-marker",style:"circle",color:"#67a9cf",size:12,outline:{color:"#000000",width:1}}},{value:4,symbol:{type:"simple-marker",style:"circle",color:"#a6bddb",size:12,outline:{color:"#000000",width:1}}},{value:5,symbol:{type:"simple-marker",style:"circle",color:"#d0d1e6",size:12,outline:{color:"#000000",width:1}}},{value:6,symbol:{type:"simple-marker",style:"circle",color:"#f6eff7",size:12,outline:{color:"#000000",width:1}}}]})}},{key:"setIsOkRenderer",value:function(){this.layer&&(this.layer.renderer={type:"unique-value",field:"is_ok",defaultSymbol:{type:"simple-marker",style:"circle",color:"#CCCCCC",size:4,outline:{color:"#000000",width:1}},uniqueValueInfos:[{value:!0,symbol:{type:"simple-marker",style:"circle",color:"#00ff00",size:12,outline:{color:"#000000",width:1}}},{value:!1,symbol:{type:"simple-marker",style:"circle",color:"#ff0000",size:12,outline:{color:"#000000",width:1}}}]})}}]),e}(),r.\u0275fac=function(e){return new(e||r)(u.Qb(d.a))},r.\u0275cmp=u.Kb({type:r,selectors:[["app-time-spatial-home"]],decls:4,vars:0,consts:[["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(u.Vb(0,"button",0),u.hc("click",(function(){return t.setLevelRenderer()})),u.Cc(1," \u6c34\u8d28\u7ea7\u522b\n"),u.Ub(),u.Vb(2,"button",0),u.hc("click",(function(){return t.setIsOkRenderer()})),u.Cc(3," \u662f\u5426\u8fbe\u6807\n"),u.Ub())},styles:[""]}),r)}],p=((o=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ob({type:o}),o.\u0275inj=u.Nb({factory:function(e){return new(e||o)},imports:[[l.c.forChild(m)],l.c]}),o),f=((n=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ob({type:n}),n.\u0275inj=u.Nb({factory:function(e){return new(e||n)},imports:[[s.b,p]]}),n)}}]);